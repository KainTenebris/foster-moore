<!DOCTYPE html>
<html lang="en-nz" dir="ltr">
<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" type="text/css" href="styles.css">
</head>

<body>	
	<div id=summary>
		<table id=summary-table>
			<tr>
				<th>Customer Name</th>
				<th>Date of Birth</th>
				<th>ID Provided</th>
			</tr>
		</table><br>
		
		<button class=button onclick="location.href='./index.html'">Add Customer</button>
	</div>
</body>

<script src="./database.js"></script>
<script>
	function get_date_text(date){
		var day = date[8] == "0" ? date[9] : date.slice(8);
		
		var month = date.slice(5,7);
		switch (month) {
			case "01":
				month = "January";
				break;
			case "02":
				month = "February";
				break;
			case "03":
				month = "March";
				break;
			case "04":
				month = "April";
				break;
			case "05":
				month = "May";
				break;
			case "06":
				month = "June";
				break;
			case "07":
				month = "July";
				break;
			case "08":
				month = "August";
				break;
			case "09":
				month = "September";
				break;
			case "10":
				month = "October";
				break;
			case "11":
				month = "November";
				break;
			case "12":
				month = "December";
				break;
		}
		
		var year = date.slice(0,4)
		
		return date ? day + " " + month + " " + year : "-";
	}

	function add_row(n, d, i) {
		var table = document.getElementById("summary-table");
		var row = table.insertRow();
		
		var name = row.insertCell(0);
		var dob = row.insertCell(1);
		var id = row.insertCell(2);
		
		name.innerHTML = n;
		dob.innerHTML = get_date_text(d);
		id.innerHTML = i ? "Yes" : "No";
	}
	
	apply_to_all_customers(add_row);
</script>
